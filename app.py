import detector
from flask import Flask, render_template, request, jsonify

# Initialize the Flask application
app = Flask(__name__)

# Define the root route. This route will render the 'index.html' template from /template
@app.route('/')
def index():
    return render_template('index.html')

# Define a route for the safe input page. This route will render the 'safe_input_page.html' template from /template
@app.route('/safe_input_page')
def safe_input():
    return render_template('safe_input_page.html')

# Define the '/process' route with POST method, This route can get return from detector.web_scan() 
@app.route('/process', methods=['POST'])
def process():
    text = request.form['text']
    result = detector.web_scan(text)
    return jsonify(result)


if __name__ == '__main__':
    app.run(debug=True)
